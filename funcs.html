<cms:func 'template' title='' clonable='' order='' icon='document' dynamic_folders='' folder_masterpage='' routable='1' debug='0' seo='' noindex='' config_list='' config_form='' exclude='default' hidden='' access_level='' gallery='' nested_pages='' globals='0' parent='' executable='' commentable='' order='0' routable='1' searchable='1' limit='40'>
	<cms:set t_title = title scope = 'global' />
	<cms:set t_clonable = clonable scope = 'global' />
	<cms:set t_access_level = access_level scope = 'global' />
	<cms:set t_executable = executable scope = 'global' />
	<cms:set t_hidden = hidden scope = 'global' />
	<cms:set t_commentable = commentable scope = 'global' />
	<cms:set t_order = order scope = 'global' />
	<cms:set t_icon = icon scope = 'global' />
	<cms:set t_routable = routable scope = 'global' />
	<cms:set t_dynamic_folders = dynamic_folders scope = 'global' />
	<cms:set t_folder_masterpage = folder_masterpage scope = 'global' />
	<cms:set t_gallery = gallery scope = 'global' />
	<cms:set t_nested_pages = nested_pages scope = 'global' />
	<cms:set t_globals = globals scope = 'global' />
	<cms:set t_parent = parent scope = 'global' />
	<cms:set t_config_list = config_list scope = 'global' />
	<cms:if t_clonable><cms:set t_seo = '1' scope = 'global' /></cms:if>
	<cms:set t_exclude = exclude scope = 'global' />
	<cms:set t_searchable = searchable scope = 'global' />
	<cms:set t_limit = limit scope = 'global' />
	<cms:set t_debug = debug scope = 'global' />
	<cms:set t_seo = seo scope = 'global' />
	<cms:set t_noindex = noindex scope = 'global' />
</cms:func>


<!-- This is called at the beginning of some javascript if arrow functions are to be used -->
<cms:func 'js'>if(1<2){}</cms:func>




<cms:func 'view'>
	<cms:set a_template_basename = "<cms:php>global $CTX; echo(basename($CTX->get('k_template_name'), '.php'));</cms:php>" />
	<cms:embed "templates/<cms:show a_template_basename />/views/<cms:show k_matched_route />.html" />
</cms:func>




<!-- Image -->

<cms:func 'e-image' name='image' preview_height='200' label='Image' height='120' order='0' group='' width='' height='' desc='' not_active=''>
	<cms:editable
		name = name
		desc = desc
		label = label
		type = 'image'
		show_preview = '1'
		preview_height = preview_height
		quality = '100'
		order = order
		group = group
		width = width
		height = height
		enforce_max = '1'
		not_active = not_active
	/>
</cms:func>




<!-- Price -->

<cms:func 'e-price' label='Price' desc='' width='60' order='0' group=''>
	<cms:editable
		name = 'pp_price'
		label = label
		desc = desc
		type = 'text'
		width = '70'
		order = order
		group = group
		not_active = not_active
	/>
</cms:func>





<!-- Text -->

<cms:func 'e-text' name='text' label='Text' desc='' width='300' order='' group=''>
	<cms:editable
		name = name
		label = label
		desc = desc
		type = 'text'
		width = width
		order = order
		group = group
		not_active = not_active
	/>
</cms:func>





<!-- Richtext -->

<cms:func 'e-richtext' name='content' label='Content' desc='' width='500' order='' group='' toolbar='custom' custom_toolbar='format | bold, italic, underline, strike | link, unlink | numberedlist, bulletedlist | removeformat' desc=''>
	<cms:editable
		name = name
		label = label
		desc = desc
		type = 'richtext'
		width = width
		order = order
		toolbar = toolbar
		custom_toolbar = custom_toolbar
		group = group
		not_active = not_active
	/>
</cms:func>




<!--  Mosaic -->

<cms:func 'e-mosaic-hero-blocks'>
	<cms:mosaic name='hero_blocks' label='Hero Blocks'>

	    <cms:tile name='video' label='Video'>
	        <cms:editable
	            name = 'title'
	            label = 'Title'
	            type = 'text'
	            width = '200'
	            order = '0'
	        />

	        <cms:editable
	            name = 'video_id'
	            label = 'Video ID'
	            type = 'text'
	            width = '200'
	            desc = 'Find this in your YouTube library or in the video url after ?v='
	        />

	        <cms:editable
	            name = 'caption'
	            label = 'Caption'
	            type = 'text'
	            width = '200'
	            order = '2'
	        />

	        <cms:config_list_view>
	            <cms:field 'k_content'>
	                <div style="padding: 20px;">
	                    <h1 style="margin: 0 0 10px;"><cms:show title /></h1>
	                    <iframe width='360' height='200' src="https://www.youtube.com/embed/<cms:show video_id />" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
	                    <p style="margin: 10px 0 0; font-size: 14pt;"><cms:show caption /></p>
	                </div>
	            </cms:field>
	        </cms:config_list_view>
	    </cms:tile>


	    <cms:tile name = 'slideshow' label = 'Slideshow'>

	        <cms:repeatable name='images' label='Images' order='1' stacked_layout='1'>
	            <cms:editable
	                name = 'title'
	                label = 'Title'
	                type = 'text'
	                width = '200'
	                order = '0'
	            />

	            <cms:editable
	                name = 'image'
	                label = 'Image'
	                type = 'image'
	                show_preview = '1'
	                preview_height = '120'
	                quality = '100'
	            />

	            <cms:editable
	                name = 'caption'
	                label = 'Caption'
	                type = 'text'
	                width = '200'
	                order = '2'
	            />
	        </cms:repeatable>

	        <cms:config_list_view>
	            <cms:field 'k_content'>
	                <div style="padding: 20px;">
	                    <div style="display: flex; flex-direction: row;">
	                        <cms:show_repeatable var='images'>
	                            <div style="margin: 5px;">
	                                <h3 style="margin: 0 0 10px;"><cms:show title /></h3>
	                                <img src="<cms:thumbnail image width='360' height='200' quality='70' />" alt="" style='width: 160px;'>
	                                <p style="margin: 10px 0 0; font-size: 10pt;"><cms:show caption /></p>
	                            </div>
	                        </cms:show_repeatable>
	                    </div>
	                </div>
	            </cms:field>
	        </cms:config_list_view>
	    </cms:tile>


	    <cms:tile name='image' label='Image' icon='image'>
	        <cms:editable
	            name = 'title'
	            label = 'Title'
	            type = 'text'
	            width = '200'
	            order = '0'
	        />

	        <cms:editable
	            name = 'image'
	            label = 'Image'
	            type = 'image'
	            show_preview = '1'
	            preview_height = '120'
	            quality = '100'
	        />

	        <cms:editable
	            name = 'caption'
	            label = 'Caption'
	            type = 'text'
	            width = '200'
	            order = '2'
	        />

	        <cms:config_list_view>
	            <cms:field 'k_content'>
	                <div style="padding: 20px;">
	                    <h2 style="margin: 0 0 10px;"><cms:show title /></h2>
	                    <img src="<cms:thumbnail image width='360' height='200' quality='70' />" alt="" style='width: 260px;'>
	                    <p style="margin: 10px 0 0; font-size: 12pt;"><cms:show caption /></p>
	                </div>
	            </cms:field>
	        </cms:config_list_view>
	    </cms:tile>

	</cms:mosaic>
</cms:func>





<cms:func 'e-mosaic-stream' type='basic' desc='The mosaic stream allows you to create multi-varied content.' label='Mosaic Stream' order='' name='mosaic_stream' not_active = ''>

	<cms:if type = 'basic'>

		<cms:mosaic name=name label=label order=order desc=desc not_active=not_active>

		    <cms:tile name='heading' label='Heading'>
		        <cms:editable
		            name = 'heading'
		            label = 'Heading'
		            type = 'text'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style="padding: 20px;">
		                    <h2 style="font-size: 21pt;"><cms:show heading /></h2>
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>
		    

		    <cms:tile name='richtext' label='Richtext'>
		        <cms:editable
		            name = 'richtext'
		            label = 'Richtext'
		            type = 'richtext'
		            toolbar = 'custom'
		            custom_toolbar = 'bold,italic,underline,strike | link,unlink | bulletedlist,numberedlist | removeformat'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style="padding: 20px; max-width: 600px; font-size: 12pt; line-height: 1.6; color: #333;">
		                    <cms:show richtext />
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		    <cms:tile name='video' label='Video'>
		        <cms:editable
		            name = 'video_title'
		            label = 'Title'
		            type = 'text'
		        />
		        <cms:editable
		            name = 'video_type'
		            label = 'Video Type'
		            type = 'radio'
		            opt_values = 'YouTube | Vimeo'
		            opt_selected = 'YouTube'
		        />
		        <cms:editable
		            name = 'video_id'
		            label = 'Video ID'
		            type = 'text'
		        />
		        <cms:editable
		            name = 'video_caption'
		            label = 'Caption'
		            type = 'text'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content' >
		                <div style="padding: 20px;font-size: 12pt; line-height: 1.6; color: #333;">
		                    <h3><cms:show video_title /></h3>
		                    <br />
		                    <cms:if video_type = 'YouTube'>
		                        <iframe width="350" height="196" src="https://www.youtube-nocookie.com/embed/<cms:show video_id />?controls=0" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
		                    <cms:else />
		                        <div style="width: 350px;">
		                            <div style="padding:56.25% 0 0 0;position:relative;"><iframe src="https://player.vimeo.com/video/<cms:show video_id />?title=0&byline=0&portrait=0&dnt=0&" style="position:absolute;top:0;left:0;width:100%;height:100%;" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div><script src="https://player.vimeo.com/api/player.js"></script>
		                        </div>
		                    </cms:if>
		                    <br />
		                    <p><cms:show video_caption /></p>
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		    <cms:tile name='image' label='Image'>
		        <cms:editable
		            name = 'image'
		            label = 'Image'
		            type = 'image'
		            show_preview = '1'
		            preview_height = '100'
		            quality = '100'
		            enforce_max = '1'
		            width = '1600'
		            height = '1600'
		        />
		        <cms:editable
		            name = 'caption'
		            label = 'Caption'
		            type = 'text'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style="padding: 20px;font-size: 12pt; line-height: 1.6; color: #333;">
		                    <div><img src="<cms:thumbnail image width='800' />" style="width: 300px;"></div>
		                    <br />
		                    <p><cms:show caption /></p>
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		    <cms:tile name='audio' label='Audio'>
		        <cms:editable
		            name = 'audio_file'
		            label = 'Audio file'
		            type = 'file'
		        />
		        <cms:editable
		            name = 'caption'
		            label = 'Caption'
		            type = 'text'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style='padding: 20px;font-size: 12pt; line-height: 1.6; color: #333;'>
		                    <div>
		                        <audio controls>
		                            <source src="<cms:show audio_file />" type="audio/mpeg">
		                        </audio>
		                    </div>
		                    <br />
		                    <strong><cms:show caption /></strong>
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		    <cms:tile name='link' label='Link'>
		        <cms:editable
		            name = 'button_type'
		            label = 'Button type'
		            type = 'radio'
		            opt_values = 'URL | File'
		        />
		        <cms:func _into='doc_cond' button_type=''>
		            <cms:if button_type = 'File'>show<cms:else />hide</cms:if>
		        </cms:func>
		        <cms:func _into='link_cond' button_type=''>
		            <cms:if button_type = 'URL'>show<cms:else />hide</cms:if>
		        </cms:func>
		        <cms:editable
		            name = 'button_file'
		            label = 'File'
		            type = 'file'
		            not_active = doc_cond
		        />
		        <cms:editable
		            name = 'button_url'
		            label = 'URL'
		            type = 'text'
		            not_active = link_cond
		        />
		        <cms:editable
		            name = 'button_text'
		            label = 'Button text'
		            type = 'text'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style='padding: 20px;'>
		                    <style>a {color: inherit;} a:hover {text-decoration: none; color: inherit;}</style>
		                    <a href="<cms:if link_type = 'File'><cms:show link_file /><cms:else /><cms:show link_link /></cms:if>" target="_blank" style="display: inline-block; padding: 10px 20px; text-transform: uppercase; text-align: center; border: 1px solid #aaa;"><cms:show button_text /></a>
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		</cms:mosaic>

	<cms:else_if type = 'minimal' />

	<cms:mosaic name=name label=label order=order desc=desc not_active=not_active>

		    <cms:tile name='heading' label='Heading'>
		        <cms:editable
		            name = 'heading'
		            label = 'Heading'
		            type = 'text'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style="padding: 20px;">
		                    <h2 style="font-size: 21pt;"><cms:show heading /></h2>
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		    <cms:tile name='text' label='Text'>
		        <cms:editable
		            name = 'text'
		            label = 'Text'
		            type = 'text'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style="padding: 20px; max-width: 600px; font-size: 12pt; line-height: 1.6; color: #333;">
		                    <p><cms:show text /></p>
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		    <cms:tile name='richtext' label='Richtext'>
		        <cms:editable
		            name = 'richtext'
		            label = 'Richtext'
		            type = 'richtext'
		            toolbar = 'custom'
		            custom_toolbar = 'bold,italic,underline,strike | link,unlink | bulletedlist,numberedlist | removeformat'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style="padding: 20px; max-width: 600px; font-size: 12pt; line-height: 1.6; color: #333;">
		                    <cms:show richtext />
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		    <cms:tile name='image' label='Image'>
		        <cms:editable
		            name = 'image'
		            label = 'Image'
		            type = 'image'
		            show_preview = '1'
		            preview_height = '100'
		            quality = '100'
		            enforce_max = '1'
		            width = '1600'
		            height = '1600'
		        />
		        <cms:editable
		            name = 'caption'
		            label = 'Caption'
		            type = 'text'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style="padding: 20px;font-size: 12pt; line-height: 1.6; color: #333;">
		                    <div><img src="<cms:thumbnail image width='800' />" style="width: 300px;"></div>
		                    <br />
		                    <p><cms:show caption /></p>
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		    <cms:tile name='audio' label='Audio'>
		        <cms:editable
		            name = 'audio_file'
		            label = 'Audio file'
		            type = 'file'
		        />
		        <cms:editable
		            name = 'caption'
		            label = 'Caption'
		            type = 'text'
		        />
		        <cms:config_list_view>
		            <cms:field 'k_content'>
		                <div style='padding: 20px;font-size: 12pt; line-height: 1.6; color: #333;'>
		                    <div>
		                        <audio controls>
		                            <source src="<cms:show audio_file />" type="audio/mpeg">
		                        </audio>
		                    </div>
		                    <br />
		                    <strong><cms:show caption /></strong>
		                </div>
		            </cms:field>
		        </cms:config_list_view>
		    </cms:tile>

		</cms:mosaic>

	</cms:if>

</cms:func>




<cms:func 'tokbox-embed' room=''>
	<div id="otEmbedContainer" class="a-tokbox-embed"></div><script src="https://tokbox.com/embed/embed/ot-embed.js?embedId=<cms:php>echo(K_TOKBOX_EMBED_ID);</cms:php>&room=<cms:show room />"></script>
</cms:func>